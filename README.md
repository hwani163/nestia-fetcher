# Nestia Fetcher
## Outline
[![GitHub license](https://img.shields.io/badge/license-MIT-blue.svg)](https://github.com/samchon/nestia-fetcher/blob/master/LICENSE)
[![npm version](https://badge.fury.io/js/nestia-fetcher.svg)](https://www.npmjs.com/package/nestia-fetcher)
[![Downloads](https://img.shields.io/npm/dm/nestia-fetcher.svg)](https://www.npmjs.com/package/nestia-fetcher)
[![Build Status](https://github.com/samchon/nestia-fetcher/workflows/build/badge.svg)](https://github.com/samchon/nestia-fetcher/actions?query=workflow%3Abuild)

```bash
npm install --save nestia-fetcher
```

`nestia-fetcher` is a fetcher library for the [**Nestia**](https://github.com/samchon/nestia).

When you build a SDK (Software Development Kit) library interacting with remote HTTP server through the [**Nestia**](https://github.com/samchon/nestia), the SDK library would be dependent on this `nestia-fetcher`. Therefore, if you publish the SDK library on the NPM module, you have to add this `nestia-fetcher` in the `dependencies` field of the `package.json`.




## Example
### Utilization Code
```typescript
import payments from "payments-server-api";
import { IPaymentHistory } from "payments-server-api/lib/structures/IPaymentHistory";
import { IConnection, HttpError } from "nestia-fetcher";

export async function main(): Promise<void>
{
    const connection: IConnection = {
        host: "http://payments.somewhere.com",
        encryption: {
            key: "SqwHmmXm1fZteI3URPtoyBWFJDMQ7FBQ",
            iv: "9eSfjygAClnE1JJs"
        }
    };

    try
    {
        const input: IPaymentHistory.IStore = { ...SOME_DATA };
        const history: IPaymentHistory = await payments.functional.histories.store
        (
            connection,
            input
        );
    }
    catch (exp)
    {
        if (exp instanceof HttpError)
            console.log(exp);
    }
}
```

### SDK Library
```typescript
import { Fetcher, IConnection } from "nestia-fetcher";

/**
 * 결제 내역 발행하기.
 * 
 * @param connection connection information
 * @param input 결제 내역 입력 정보
 * @returns 결제 내역
 * 
 * @nestia Generated by Nestia - https://github.com/samchon/nestia
 * @controller PaymentHistoriesController.store()
 * @path POST /histories
 */
export function store
    (
        connection: IConnection,
        input: Primitive<store.Input>
    ): Promise<store.Output>
{
    return Fetcher.fetch
    (
        connection,
        store.CONFIG,
        store.METHOD,
        store.path(),
        input
    );
}
export namespace store
{
    export type Input = Primitive<IPaymentHistory.IStore>;
    export type Output = Primitive<IPaymentHistory>;

    export const METHOD = "POST" as const;
    export const PATH: string = "/histories";
    export const CONFIG: IConnection.IEncrypted = {
        input_encrypted: true,
        output_encrypted: true,
    };

    export function path(): string
    {
        return `/histories`;
    }
}
```